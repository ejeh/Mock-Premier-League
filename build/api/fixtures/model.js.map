{"version":3,"sources":["../../../src/api/fixtures/model.js"],"names":["FixturesSchema","Schema","event_date","type","String","es_indexed","event_timestamp","Number","firstHalfStart","round","status","statusShort","venue","referee","homeTeam","team_id","team_name","logo","awayTeam","goalsHomeTeam","goalsAwayTeam","score","halftime","fulltime","extratime","penalty","updated","Date","now","updatedBy","timestamps","toJSON","virtuals","transform","obj","ret","_id","methods","view","full","createdAt","updatedAt","plugin","mongoosastic","index","host","process","env","ELASTICSEARCH_URL","port","ELASTICSEARCH_PORT","hydrate","hydrateOptions","lean","Fixtures","mongoose","model","ObjectId","Types"],"mappings":"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","sourcesContent":["/**\n * @author Godfrey Ejeh\n * @description Creating  fixtures\n * @property {String} team admin's team account\n * @property {String} time admin's time\n * @property {String} date admin's date\n * @property {String} venue admin's venue\n * @property {String} updated admin's updated\n * @property {String} updatedBy admin's updatedB\n *  */\n\nimport mongoose, { Schema } from \"mongoose\";\nimport mongoosastic from \"mongoosastic\";\n\nconst FixturesSchema = new Schema(\n  {\n    event_date: {\n      type: String,\n      es_indexed: true\n    },\n    event_timestamp: { type: Number },\n    firstHalfStart: { type: String, es_indexed: true },\n    round: { type: String, es_indexed: true },\n    status: {\n      type: String,\n      enum: [\"pending\", \"Match Finished\"],\n      es_indexed: true,\n      default: \"pending\"\n    },\n    statusShort: { type: String, default: null, es_indexed: true },\n    venue: { type: String, es_indexed: true },\n    referee: { type: String, es_indexed: true },\n    homeTeam: {\n      team_id: { type: String },\n      team_name: { type: String, es_indexed: true },\n      logo: { type: String }\n    },\n    awayTeam: {\n      team_id: { type: String },\n      team_name: { type: String, es_indexed: true },\n      logo: { type: String }\n    },\n    goalsHomeTeam: { type: Number, default: 0, es_indexed: true },\n    goalsAwayTeam: { type: Number, default: 0, es_indexed: true },\n    score: {\n      halftime: { type: String, default: 0, es_indexed: true },\n      fulltime: { type: String, default: 0, es_indexed: true },\n      extratime: { type: String, default: null, es_indexed: true },\n      penalty: { type: String, default: null, es_indexed: true }\n    },\n    updated: { type: Date, default: Date.now },\n    updatedBy: { type: String }\n  },\n  {\n    timestamps: true,\n    toJSON: {\n      virtuals: true,\n      transform: (obj, ret) => {\n        delete ret._id;\n      }\n    }\n  }\n);\n\nFixturesSchema.methods = {\n  view(full) {\n    const view = {\n      // simple view\n      firstHalfStart: this.firstHalfStart,\n      round: this.round,\n      status: this.status,\n      venue: this.venue,\n      event_date: this.event_date,\n      homeTeam: this.homeTeam,\n      statusShort: this.statusShort,\n      referee: this.referee,\n      awayTeam: this.awayTeam,\n      awayTeam: this.goalsHomeTeam,\n      goalsAwayTeam: this.goalsAwayTeam,\n      score: this.score\n    };\n\n    return full\n      ? {\n          ...view,\n          createdAt: this.createdAt,\n          updatedAt: this.updatedAt,\n          updatedBy: this.updatedBy\n        }\n      : view;\n  }\n};\n\nFixturesSchema.plugin(mongoosastic, {\n  index: \"fixtures\",\n  host: process.env.ELASTICSEARCH_URL,\n  port: process.env.ELASTICSEARCH_PORT,\n  hydrate: false,\n  hydrateOptions: {\n    lean: true\n  }\n});\n\nconst Fixtures = mongoose.model(\"Fixtures\", FixturesSchema);\n\nexport const { ObjectId } = mongoose.Types;\nexport default Fixtures;\n"],"file":"model.js"}